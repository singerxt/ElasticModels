const Promise=require('bluebird'),document=require('../Document'),docArrayMethods=({data:a})=>({push:Array.prototype.push.bind(a),reduce:Array.prototype.reduce.bind(a),sort:Array.prototype.sort.bind(a),filter:Array.prototype.filter.bind(a),reverse:Array.prototype.reverse.bind(a)}),getDocuments=({data:a})=>({getDocuments:()=>Promise.all(a.map(b=>b.getDocument()))}),documentArray=(a,b,c)=>{const d={data:Array.isArray(a.hits.hits)?a.hits.hits:a||[],schema:b,options:c};return d.data=d.data.map(e=>document(e,b,c)),Object.assign({},getDocuments(d),docArrayMethods(d))};module.exports=documentArray;